<?xml version="1.0" encoding="UTF-8"?> 
    <configuration> 
        <system.webServer> 
            <staticContent>
                <remove fileExtension=".mp4"/>
                <mimeMap fileExtension=".mp4" mimeType="video/mp4"/>
                <remove fileExtension=".ogv"/>
                <mimeMap fileExtension=".ogv" mimeType="video/ogg"/>
                <remove fileExtension=".m4v"/>
                <mimeMap fileExtension=".m4v" mimeType="video/m4v"/>
                <remove fileExtension=".webm"/>
                <mimeMap fileExtension=".webm" mimeType="video/webm"/>
            </staticContent>
            <rewrite> 
                <rules> 
                    <rule name="React Routes" stopProcessing="true"> 
                        <match url=".*" /> 
                        <conditions logicalGrouping="MatchAll">
                            <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                            <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" /> 
                            <add input="{REQUEST_URI}" pattern="^/(api)" negate="true" /> 
                        </conditions> 
                        <action type="Rewrite" url="/" /> 
                    </rule> 
                    <clear />
                <rule name="Redirect to https" stopProcessing="true">
                    <match url=".*" />
                    <conditions>
                        <add input="{HTTPS}" pattern="off" ignoreCase="true" />
                    </conditions>
                    <action type="Redirect" url="https://{HTTP_HOST}{REQUEST_URI}" redirectType="Permanent" appendQueryString="false" />
                </rules>
            </rewrite> 
        </system.webServer>
    </configuration>